{{> reverse-proxy-base.conf}}

# Fine-tune timeouts for better failover
proxy_connect_timeout 3s;  # Time to establish a connection to the upstream
proxy_send_timeout 10s;    # Time to send the request to the upstream
proxy_read_timeout 15s;    # Time to read the response from the upstream

# Pass the If-None-Match header to upstream so we can use etags
proxy_set_header If-None-Match $http_if_none_match;
proxy_set_header If-Modified-Since $http_if_modified_since;

